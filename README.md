# Тестовое задание "Список товаров"
[Основной экран](/screenshots/list.png)

Здесь расположено два проекта: один на Next.js, второй – backend на C#. Mock-сервер брать не стал, так как хотелось добавить возможность создавать и редактировать товары, чтобы полностью проверять функциональность. 

Приложение поднимается при помощи docker-compose. Первым поднимается postgres db, вторым backend на C# (ожидает healthy-статус базы данных для выполнения миграций) и третьим – Next.js. Есть небольшая проблема с SSG при выполнении docker-compose: на стадии сборки образа запрашиваются данные на хосте, который в данный момент еще не поднят и SSG-генерация возвращает пустой список, но в дальнейшем при обработке запросов сервером статика (список товаров) отдается корректно. 

## Предложения по архитектуре
Поскольку вся реализация основана на условии ТЗ "фильтрация на клиенте", было решено выгрузить сразу весь список товаров и работать с ним на протяжении всего жизненного цикла приложения. Такой подход в большом приложении может быть не очень эффективным, поскольку держать полный список товаров в памяти не следует. Подгрузка товаров должна выполняться с пагинацией и фильтрацией на сервере, а список товаров корзины должен подгружаться при необходимости.


## Как поднять приложение
1. Склонировать репозиторий;
2. Убедиться в том, что docker установлен и демон запущен;
3. Перейти в директорию проекта и выполнить `docker-compose up` 
- -d (для запуска как демон)
- --build (для пересборки)
- --force-recreate (полностью пересоздать контейнеры)
4. Перейти на [http://localhost:3000](http://localhost:3000)
5. После того, как захотите очистить используемые ресурсы (за исключением кэша докера) `docker compose down -v`

## Как поднять проекты по отдельности
1. Установить .net sdk 8
2. Перейти в директорию backend `cd SimpleOnlineStoreApi`
3. Установить зависимости `dotnet restore`
4. Собрать проект `dotnet build`
5. Запустить сервис базы данных `docker compose up db -d`
6. Запустить `dotnet run http`
7. Перейти в директорию frontend (из корневой директории проекта) `cd simple-online-store-web-app`
8. Убедиться в совместимости версий node.js (для сборки образа используется 20, для разработки – 23)
9. Установить зависимости `npm i`
10. Запустить frontend `npm run dev`
11. После завершения работы выполнить `docker compose down db` (для очистки данных образа `-v`)